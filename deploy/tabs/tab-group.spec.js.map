{"version":3,"file":"tab-group.spec.js","sourceRoot":"","sources":["../../src/demo-app/components/tabs/tab-group.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n    it,\r\n    expect,\r\n    beforeEach,\r\n    inject,\r\n    describe,\r\n    async\r\n} from '@angular/core/testing';\r\nimport {TestComponentBuilder, ComponentFixture} from '@angular/compiler/testing';\r\nimport {MD_TABS_DIRECTIVES, MdTabGroup} from './tabs';\r\nimport {Component} from '@angular/core';\r\nimport {By} from '@angular/platform-browser';\r\n\r\ndescribe('MdTabGroup', () => {\r\n  let builder: TestComponentBuilder;\r\n  let fixture: ComponentFixture<SimpleTabsTestApp>;\r\n\r\n  beforeEach(inject([TestComponentBuilder], (tcb: TestComponentBuilder) => {\r\n    builder = tcb;\r\n  }));\r\n\r\n  describe('basic behavior', () => {\r\n    beforeEach(async(() => {\r\n      builder.createAsync(SimpleTabsTestApp).then(f => {\r\n        fixture = f;\r\n      });\r\n    }));\r\n\r\n    it('should default to the first tab', () => {\r\n      checkSelectedIndex(1);\r\n    });\r\n\r\n    it('should change selected index on click', () => {\r\n      let component = fixture.debugElement.componentInstance;\r\n      component.selectedIndex = 0;\r\n      checkSelectedIndex(0);\r\n\r\n      // select the second tab\r\n      let tabLabel = fixture.debugElement.query(By.css('.md-tab-label:nth-of-type(2)'));\r\n      tabLabel.nativeElement.click();\r\n      checkSelectedIndex(1);\r\n\r\n      // select the third tab\r\n      tabLabel = fixture.debugElement.query(By.css('.md-tab-label:nth-of-type(3)'));\r\n      tabLabel.nativeElement.click();\r\n      checkSelectedIndex(2);\r\n    });\r\n\r\n    it('should cycle through tab focus with focusNextTab/focusPreviousTab functions', () => {\r\n      let tabComponent = fixture.debugElement.query(By.css('md-tab-group')).componentInstance;\r\n      tabComponent.focusIndex = 0;\r\n      fixture.detectChanges();\r\n      expect(tabComponent.focusIndex).toBe(0);\r\n\r\n      tabComponent.focusNextTab();\r\n      fixture.detectChanges();\r\n      expect(tabComponent.focusIndex).toBe(1);\r\n\r\n      tabComponent.focusNextTab();\r\n      fixture.detectChanges();\r\n      expect(tabComponent.focusIndex).toBe(2);\r\n\r\n      tabComponent.focusNextTab();\r\n      fixture.detectChanges();\r\n      expect(tabComponent.focusIndex).toBe(2); // should stop at 2\r\n\r\n      tabComponent.focusPreviousTab();\r\n      fixture.detectChanges();\r\n      expect(tabComponent.focusIndex).toBe(1);\r\n\r\n      tabComponent.focusPreviousTab();\r\n      fixture.detectChanges();\r\n      expect(tabComponent.focusIndex).toBe(0);\r\n\r\n      tabComponent.focusPreviousTab();\r\n      fixture.detectChanges();\r\n      expect(tabComponent.focusIndex).toBe(0); // should stop at 0\r\n    });\r\n\r\n    it('should change tabs based on selectedIndex', () => {\r\n      let component = fixture.debugElement.componentInstance;\r\n      checkSelectedIndex(1);\r\n\r\n      component.selectedIndex = 2;\r\n      checkSelectedIndex(2);\r\n    });\r\n  });\r\n\r\n  /**\r\n   * Checks that the `selectedIndex` has been updated; checks that the label and body have the\r\n   * `md-active` class\r\n   */\r\n  function checkSelectedIndex(index: number) {\r\n    fixture.detectChanges();\r\n\r\n    let tabComponent: MdTabGroup = fixture.debugElement\r\n        .query(By.css('md-tab-group')).componentInstance;\r\n    expect(tabComponent.selectedIndex).toBe(index);\r\n\r\n    let tabLabelElement = fixture.debugElement\r\n        .query(By.css(`.md-tab-label:nth-of-type(${index + 1})`)).nativeElement;\r\n    expect(tabLabelElement.classList.contains('md-active')).toBe(true);\r\n\r\n    let tabContentElement = fixture.debugElement\r\n        .query(By.css(`#${tabLabelElement.id}`)).nativeElement;\r\n    expect(tabContentElement.classList.contains('md-active')).toBe(true);\r\n  }\r\n});\r\n\r\n@Component({\r\n  selector: 'test-app',\r\n  template: `\r\n    <md-tab-group class=\"tab-group\" [selectedIndex]=\"selectedIndex\">\r\n      <md-tab>\r\n        <template md-tab-label>Tab One</template>\r\n        <template md-tab-content>Tab one content</template>\r\n      </md-tab>\r\n      <md-tab>\r\n        <template md-tab-label>Tab Two</template>\r\n        <template md-tab-content>Tab two content</template>\r\n      </md-tab>\r\n      <md-tab>\r\n        <template md-tab-label>Tab Three</template>\r\n        <template md-tab-content>Tab three content</template>\r\n      </md-tab>\r\n    </md-tab-group>\r\n  `,\r\n  directives: [MD_TABS_DIRECTIVES]\r\n})\r\nclass SimpleTabsTestApp {\r\n  selectedIndex: number = 1;\r\n}\r\n"]}